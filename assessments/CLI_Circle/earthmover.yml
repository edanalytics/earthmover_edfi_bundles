# See accompanying README.md for details about this file.
version: 2

config:
  log_level: DEBUG
  output_dir: assessments/CLI_Circle/output
  memory_limit: 1GB
  state_file: ./runs.csv
  show_graph: False
  parameter_defaults:
    STUDENT_ID_JOIN_COLUMN: local_student_id

sources:
  cli_circle_input:
    file: '/mnt/n/texas_esc_4/data/assessment/cli circle/lamar_cisd/CircleDataExport_CIRCLE Progress Monitoring Pre-K Results Export_20220618_031032842D80A/report.csv'
    header_rows: 3

  assessmentReportingMethodDescriptors:
    file: assessments/CLI_Circle/seeds/assessmentReportingMethodDescriptors.csv
    header_rows: 1

  assessments:
    file: assessments/CLI_Circle/seeds/assessments.csv
    header_rows: 1

# PREP-STEP 1: CREATE LIST OF CONFORMED COLUMNS TO STACK ON TOP OF EACH OTHER.
# CLI Circle Data comes in wide, so we have to pivot the data into a long format
# To do this, we conform the subject/objective assessments column titles "math_v1" into generic titles e.g. "subject_name"
# Then we stack it all together so that we have one row per student/subject assessed.
{% set conformed_columns = [
  'student_wave_id', 
  'wave',
  'school_year',
  'district_number',
  'community_name',
  'community_engage_id',
  'school_number',
  'school_name',
  'school_engage_id',
  'school_type',
  'school_status',
  'teacher_number',
  'homeroom_teacher',
  'teacher_engage_id',
  'teacher_state_id',
  'teacher_primary_email',
  'class_internal_id',
  'class_name',
  'class_engage_id',
  'class_status',
  'day_type',
  'class_level',
  'local_student_id',
  'student_first_name',
  'student_middle_name',
  'student_last_name',
  'student_dob',
  'student_status',
  'student_engage_id',
  'student_state_id',
  'assessment_language',
  'student_gender',
  'student_ethnicity',
  'student_grade_level',
  'collaboration_id',
  'special_ed',
  'special_ed_former',
  'english_language_learner',
  'econ_disadvantaged',
  'dyslexia',
  'enrollment_date',
  'withdrawal_date',
  'subject_name',
  'subject_descriptor',
  'subject_date',
  'subject_score',
  'subject_performance',
  'subject_set',
  'subject_set_name',
  'subject_set_descriptor',
  'subject_set_date',
  'subject_set_score',
  'subject_set_performance',
  'oa_category_1_name',
  'oa_category_2_name',
  'oa_category_3_name',
  'oa_category_4_name',
  'oa_category_5_name',
  'oa_category_6_name',
  'oa_category_7_name',
  'oa_category_1_descriptor',
  'oa_category_2_descriptor',
  'oa_category_3_descriptor',
  'oa_category_4_descriptor',
  'oa_category_5_descriptor',
  'oa_category_6_descriptor',
  'oa_category_7_descriptor',
  'oa_category_1_date',
  'oa_category_2_date',
  'oa_category_3_date',
  'oa_category_4_date',
  'oa_category_5_date',
  'oa_category_6_date',
  'oa_category_7_date',
  'oa_category_1_score',
  'oa_category_2_score',
  'oa_category_3_score',
  'oa_category_4_score',
  'oa_category_5_score',
  'oa_category_6_score',
  'oa_category_7_score',
  'oa_category_1_performance',
  'oa_category_2_performance',
  'oa_category_3_performance',
  'oa_category_4_performance',
  'oa_category_5_performance',
  'oa_category_6_performance',
  'oa_category_7_performance'
  ] 
%}

# PREP-STEP 2: CREATE DICT OF SUBJECTS AND OBJECTIVE ASSESSMENTS TO CONFORM AND STACK ON.
# We need this comprehensive dictionary to pass on values to our conformed columns above.
# CLI Circle comes in both English and Spanish, and the objective assessment quantities (amount of OAs per subject) change depending on each, so we have to build two dictionaries.
# An example of the output of this would be: 
  # student_id | subject_name | subject_descriptor    | ...subject_performance | oa_category_1_name       | ...oa_category_1_performance
  # 1234       | pa_v2        | Phonological Awareness| ...Needs Support       | pa_opt_v1_listening_v2   | ...Monitoring
  # 1234       | math_v1      | Math                  | ...On Track            | math_v1_rote_counting_v1 | ...On Track
{% set subjects_en = {
    'rln_v1': {
      'name': 'Rapid Letter Naming',
      'objective_assessments': []
    },
    'rapid_vocabulary_v1': {
      'name': 'Rapid Vocabulary',
      'objective_assessments': [],
      'sets':[
        {'set_1':{'rapid_vocabulary_v1_rv_set1_v1': 'Rapid Vocabulary Set 1'}},
        {'set_2':{'rapid_vocabulary_v1_rv_set2_v1': 'Rapid Vocabulary Set 2'}},
        {'set_3':{'rapid_vocabulary_v1_rv_set3_v1': 'Rapid Vocabulary Set 3'}}
      ]
    },
    'pa_v2': {
      'name': 'Phonological Awareness',
      'objective_assessments': [
        {'oa_category_1':{'pa_v2_syllabication_v2': 'Phonological Awareness Syllabication'}},
        {'oa_category_2':{'pa_v2_onset_rime_v2': 'Phonological Awareness Onset-Rime'}},
        {'oa_category_3':{'pa_v2_alliteration_v2': 'Phonological Awareness Alliteration'}},
        {'oa_category_4':{'pa_v2_rhyming_i_v2': 'Phonological Awareness Rhyming I'}}
      ]
    },
    'pa_opt_v1': {
      'name': 'Optional Phonological Awareness',
      'objective_assessments': [
        {'oa_category_1':{'pa_opt_v1_listening_v2': 'Optional Phonological Awareness Listening'}},
        {'oa_category_2':{'pa_opt_v1_words_v2': 'Optional Phonological Awareness Words in a Sentence'}},
        {'oa_category_3':{'pa_opt_v1_rhyming_ii_v2': 'Optional Phonological Awareness Rhyming II'}}
      ]
    },
    'math_v1': {
      'name': 'Math',
      'objective_assessments': [
        {'oa_category_1':{'math_v1_rote_counting_v1': 'Math Rote Counting'}},
        {'oa_category_2':{'math_v1_shape_naming_v1': 'Math Shape Naming'}},
        {'oa_category_3':{'math_v1_number_discrimination_v1': 'Math Number Discrimination'}},
        {'oa_category_4':{'math_v1_number_naming_v1': 'Math Number Naming'}},
        {'oa_category_5':{'math_v1_shape_disc_v1': 'Math Shape Discrimination'}},
        {'oa_category_6':{'math_v1_counting_v1': 'Math Counting Sets'}},
        {'oa_category_7':{'math_v1_operations_v1': 'Math Operations'}}
      ]
    },
    'math_opt_v1': {
      'name': 'Optional Math',
      'objective_assessments': [
        {'oa_category_1':{'math_opt_v1_patterns_v1': 'Optional Math Patterns'}},
        {'oa_category_2':{'math_opt_v1_real_world_v1': 'Optional Math Real World'}}
      ]
    },
    'letter_sound_v1': {
      'name': 'Letter-Sound Correspondence',
      'objective_assessments': []
    },
    'story_retell_comp_v1': {
      'name': 'Story Retell and Comprehension',
      'objective_assessments': []
    },
    'book_print_v1': {
      'name': 'Book and Print Knowledge',
      'objective_assessments': []
    },
    'science_v1': {
      'name': 'Science',
      'objective_assessments': []
    },
    'social_studies_v1': {
      'name': 'Social Studies',
      'objective_assessments': []
    },
    'social_emotional_v1': {
      'name': 'Social Emotional Behaviors',
      'objective_assessments': [
        {'oa_category_1':{'social_emotional_v1_positive_social_v1': 'Positive Social Behaviors'}},
        {'oa_category_2':{'social_emotional_v1_classroom_community_safety_v1': 'Classroom Community and Safety'}},
        {'oa_category_3':{'social_emotional_v1_emotion_behavior_v1': 'Emotion and Behavior Regulation'}},
        {'oa_category_4':{'social_emotional_v1_self_care_v1': 'Self-Care'}},
        {'oa_category_5':{'social_emotional_v1_approaches_to_learning_v1': 'Approaches to Learning'}}
      ]
    },
    'early_writing_v1': {
      'name': 'Early Writing Skills Early Writing Skills',
      'objective_assessments': []
    },
    'approaches_to_learning_exp_v2': {
      'name': 'Approaches to Learning Expanded',
      'objective_assessments': [
        {'oa_category_1':{'approaches_to_learning_exp_v2_initiative_curiosity_v1': 'Initiative and Curiosity'}},
        {'oa_category_2':{'approaches_to_learning_exp_v2_flexibility_v1': 'Flexibility'}},
        {'oa_category_3':{'approaches_to_learning_exp_v2_creativity_dramatic_play_v1': 'Art/Creativity and Dramatic Play'}}
      ]
    },
    'physical_dev_health_v1': {
      'name': 'Physical Development and Health',
      'objective_assessments': [
        {'oa_category_1':{'physical_dev_health_v1_fine_visual_motor_v1': 'Fine and Visual Motor'}},
        {'oa_category_2':{'physical_dev_health_v1_gross_motor_v1': 'Gross Motor'}},
        {'oa_category_3':{'physical_dev_health_v1_health_v1': 'Health Status'}}
      ]
    },
    'language_communication_2016_v1': {
      'name': 'Speech Production and Sentence Skills',
      'objective_assessments': []
    },
    'motivation_to_read_2016_v1': {
      'name': 'Motivation to Read - En',
      'objective_assessments': []
    },
    'cpm_admin_mode': {
      'name': 'Administration Mode',
      'objective_assessments': []
    }
  }
%}

{% set subjects_spa = {
    'rlna_spa_v1': {
      'name': 'Letras Rápidas',
      'objective_assessments': []
    },
    'rapid_vocabulary_spa_v1': {
      'name': 'Vocabulario Rápido',
      'objective_assessments': [],
      'sets':[
        {'set_1':{'rapid_vocabulary_spa_v1_rv_set1_spa_v1': 'Vocabulario Rápido 1'}},
        {'set_2':{'rapid_vocabulary_spa_v1_rv_set2_spa_v1': 'Vocabulario Rápido 2'}},
        {'set_3':{'rapid_vocabulary_spa_v1_rv_set3_spa_v1': 'Vocabulario Rápido 3'}}
      ]
    },
    'pa_spa_v2': {
      'name': 'Conciencia Fonológica',
      'objective_assessments': [
        {'oa_category_1':{'pa_spa_v2_syllabication_spa_v2': 'Conciencia Fonológica División Silábica'}},
        {'oa_category_2':{'pa_spa_v2_alliteration_spa_v2': 'Conciencia Fonológica Aliteración'}},
        {'oa_category_3':{'pa_spa_v2_rhyming_i_spa_v2': 'Conciencia Fonológica Rimas I'}}
      ]
    },
    'pa_opt_v1': {
      'name': 'Conciencia Fonológica Opcional',
      'objective_assessments': [
        {'oa_category_1':{'pa_optional_spa_v1_listening_spa_v2': 'Conciencia Fonológica Opcional Escuchar'}},
        {'oa_category_2':{'pa_optional_spa_v1_words_spa_v2': 'Conciencia Fonológica Opcional Palabras de la Oración'}},
        {'oa_category_3':{'pa_optional_spa_v1_rhyming_ii_spa_v2': 'Conciencia Fonológica Opcional Rimas II'}}
      ]
    },
    'math_spa_v1': {
      'name': 'Matemáticas',
      'objective_assessments': [
        {'oa_category_1':{'math_spa_v1_rote_counting_spa_v1': 'Matemáticas Conteo de Memoria'}},
        {'oa_category_2':{'math_spa_v1_shape_naming_spa_v1': 'Matemáticas Nombre de las Figuras'}},
        {'oa_category_3':{'math_spa_v1_number_discrimination_spa_v1': 'Matemáticas Reconocimiento de Números'}},
        {'oa_category_4':{'math_spa_v1_number_name_spa_v1': 'Matemáticas Nombre de los Números'}},
        {'oa_category_5':{'math_spa_v1_shape_disc_spa_v1': 'Matemáticas Reconocimiento de Figuras'}},
        {'oa_category_6':{'math_spa_v1_counting_spa_v1': 'Matemáticas Conteo de Grupos'}},
        {'oa_category_7':{'math_spa_v1_operations_spa_v1': 'Matemáticas Operaciones'}}
      ]
    },
    'math_opt_spa_v1': {
      'name': 'Matemáticas opcional',
      'objective_assessments': [
        {'oa_category_1':{'math_opt_spa_v1_patterns_spa_v1': 'Matemáticas Opcional patrones'}},
        {'oa_category_2':{'math_opt_spa_v1_real_world_spa_v1': 'Matemáticas Opcional Mundo Real'}}
      ]
    },
    'letter_sound_spa_v1': {
      'name': 'Sonidos de Letras',
      'objective_assessments': []
    },
    'story_retell_comp_spa_v1': {
      'name': 'Recontar y Comprension',
      'objective_assessments': []
    },
    'book_print_spa_v1': {
      'name': 'Libros y Material Impreso',
      'objective_assessments': []
    },
    'science_spa_v1': {
      'name': 'Ciencias',
      'objective_assessments': []
    },
    'social_studies_spa_v1': {
      'name': 'Estudios Sociales',
      'objective_assessments': []
    },
    'social_emotional_spa_v2': {
      'name': 'Socio-Emocional',
      'objective_assessments': [
        {'oa_category_1':{'social_emotional_spa_v2_positive_social_spa_v1': 'Conducta Social Positiva'}},
        {'oa_category_2':{'social_emotional_spa_v2_classroom_community_safety_spa_v1': 'Comunidad y Seguridad del Salón'}},
        {'oa_category_3':{'social_emotional_spa_v2_emotion_behavior_spa_v1': 'Regulación de Emociones y Conducta'}},
        {'oa_category_4':{'social_emotional_spa_v2_self_care_spa_v1': 'Cuidado Propio'}},
        {'oa_category_5':{'social_emotional_spa_v2_approaches_to_learning_spa_v1': 'Enfoques del Aprendizaje'}}
      ]
    },
    'early_writing_spa_v1': {
      'name': 'Escritura Temprana',
      'objective_assessments': []
    },
    'approaches_to_learning_extended_spa_v1': {
      'name': 'Enfoques del aprendizaje - Extendidos',
      'objective_assessments': [
        {'oa_category_1':{'approaches_to_learning_extended_spa_v1_initiative_curiosity_spa_v1': 'Iniciativa y Curiosidad'}},
        {'oa_category_2':{'approaches_to_learning_extended_spa_v1_flexibility_spa_v1': 'Flexibilidad'}},
        {'oa_category_3':{'approaches_to_learning_extended_spa_v1_creativity_dramatic_play_spa_v1': 'Arte/Creatividad y Actuación'}}
      ]
    },
    'physical_dev_health_spa_v1': {
      'name': 'Desarrollo fFísico y Salud',
      'objective_assessments': [
        {'oa_category_1':{'physical_dev_health_spa_v1_fine_visual_motor_spa_v1': 'Motricidad Fina y Visual'}},
        {'oa_category_2':{'physical_dev_health_spa_v1_gross_motor_spa_v1': 'Motricidad Gruesa'}},
        {'oa_category_3':{'physical_dev_health_spa_v1_health_spa_v1': 'Estado de Salud'}}
      ]
    },
    'language_communication_2016_spa_v1': {
      'name': 'Speech Production and Sentence Skills',
      'objective_assessments': []
    },
    'motivation_to_read_2016_spa_v1': {
      'name': 'Motivation to Read - En',
      'objective_assessments': []
    },
    'cpm_admin_mode_sp': {
      'name': 'Administration Mode',
      'objective_assessments': []
    }
  }
%}

# Stack the dictionaries together into one large dictionary that we can iterate through bellow.
{% set subjects = subjects_en.copy() %}
{% set _ = subjects.update(subjects_spa) %}


# PREP-STEP 3: CREATE LIST OF SUBJECTS WITHOUT CUT POINT VALUES (PERFORMANCE INDICATORS)
# Some subjects don't carry CP values, and we need to know which ones don't so that we can create empty performance columns for those.
# If we don't create empty columns, the "keep columns" operation below won't finish successfully.
{% set non_cp_columns = [      
    'approaches_to_learning_exp_v2_creativity_dramatic_play_v1',
    'approaches_to_learning_exp_v2_flexibility_v1',
    'approaches_to_learning_exp_v2_initiative_curiosity_v1',
    'cpm_admin_mode',
    'math_opt_v1_patterns_v1',
    'math_opt_v1_real_world_v1',
    'physical_dev_health_v1_fine_visual_motor_v1',
    'physical_dev_health_v1_gross_motor_v1',
    'physical_dev_health_v1_health_v1',
    'social_emotional_v1_approaches_to_learning_v1',
    'social_emotional_v1_self_care_v1',
    'social_emotional_v1_emotion_behavior_v1',
    'social_emotional_v1_classroom_community_safety_v1',
    'social_emotional_v1_positive_social_v1',
    'approaches_to_learning_extended_spa_v1_initiative_curiosity_spa_v1',
    'approaches_to_learning_extended_spa_v1_flexibility_spa_v1',
    'approaches_to_learning_extended_spa_v1_creativity_dramatic_play_spa_v1',
    'cpm_admin_mode_sp',
    'math_opt_spa_v1_patterns_spa_v1',
    'math_opt_spa_v1_real_world_spa_v1',
    'physical_dev_health_spa_v1_fine_visual_motor_spa_v1',
    'physical_dev_health_spa_v1_gross_motor_spa_v1',
    'physical_dev_health_spa_v1_health_spa_v1',
    'social_emotional_spa_v2_positive_social_spa_v1',
    'social_emotional_spa_v2_classroom_community_safety_spa_v1',
    'social_emotional_spa_v2_emotion_behavior_spa_v1',
    'social_emotional_spa_v2_self_care_spa_v1',
    'social_emotional_spa_v2_approaches_to_learning_spa_v1'
] 
%}



# TRANSFORMATION-STEP 1: CONVERT COLUMNS TO SNAKE CASE
# Some columns in the data come through with spaces or using "-" symbols instead of "_" as separators
# We need to make sure all columns are snake cased before we begin working on the data. 
# We can also build our student_wave_id here, which will help us identify a student and wave row.
transformations:
  cli_circle_student_assessment:
    source: $sources.cli_circle_input
    operations:
      - operation: snake_case_columns 
      - operation: add_columns
        columns:
          student_wave_id: '{%raw%}{{wave}}_{{school_year}}_{{local_student_id}}{%endraw%}'

# TRANSFORMATION-STEP 2: LOOP THROUGH DICTIONARY OF SUBJECTS AND CONFORM COLUMNS
# Start of by creating the main subject columns we need, these are defined pretty early in our dictionary above.
{% for subject_name, subject_values in subjects.items() %}
  cli_circle_student_{{subject_name}}:
    source: $transformations.cli_circle_student_assessment
    operations:
      - operation: rename_columns
        columns:
          {{ subject_name }}: subject_score
          {{ subject_name }}_date: subject_date
      
      # Some subjects have "sets" and a student might be assessed based on one of these sets.
      # For example, Rapid Letter Naming has 3 sets, each set contains multiple combinations of letters, a student can be assessed on one of these sets.
      # For these subjects we have to create a "subject_set" column which will tell us what set a student was assessed with.
      {% if subject_values.sets is not none and subject_values.sets | length %}
        {% for set in subject_values.sets %}
          {% for set_category, set_values in set.items() %}
            {% for set_key, set_value in set_values.items() %}
          {{ set_key }}_date: subject_set_date
          {{ set_key }}: subject_set_score
          cp_{{ set_key }}: subject_set_performance

      - operation: add_columns
        columns:
          subject_set_name: {{ set_key }}
          subject_set_descriptor: {{ set_value }}
          subject_set: {{ set_category.split('_')[-1] }}
            {% endfor %}
          {% endfor %}
        {% endfor %}
      {% else %}
      - operation: add_columns
        columns:
          subject_set_name: ''
          subject_set_descriptor: ''
          subject_set: ''
          subject_set_date: ''
          subject_set_score: ''
          subject_set_performance: ''
      {% endif %}

      # Here we deal with subjects that do not have a Cut Point (Performance) indicator.
      # If the subject_name is not found in the list of Non Cut Point Columns it will create a subject_performance column with a proper value.
      # If it is, it will create a null column with the name "subject_performance" so that our keep columns operation does not break.
      {% if subject_name not in non_cp_columns %}
      - operation: rename_columns
        columns:
          cp_{{ subject_name }}: subject_performance
      {% else %}
      - operation: add_columns
        columns:
          subject_performance: ''
      {% endif %}

      # Add the final subject columns: name and descriptor (e.g. "math_v1" and "Math")
      - operation: add_columns
        columns:
          subject_name: {{ subject_name }}
          subject_descriptor: {{ subject_values.name }}

      # Now we create objective assessment data based on our dictionaries above.
      # If a subject has objective assessments listed, then it conforms all those objective assessments 
      # by giving them generic names that can then stack on top of each other e.g. "oa_category_1"..."oa_category_7"
      {% if subject_values.objective_assessments is not none and subject_values.objective_assessments | length %}
      {% set cat_numbers=[] -%}
      {% for objective_assessment in subject_values.objective_assessments %}
        {% for oa_category, oa_values in objective_assessment.items() %}
          {% for oa_key, oa_value in oa_values.items() %}
      - operation: rename_columns
        columns:
          {{ oa_key }}: {{ oa_category }}_score
          {{ oa_key }}_date: {{ oa_category }}_date
          
            {% if oa_key not in non_cp_columns %}
      - operation: rename_columns
        columns:
          cp_{{ oa_key }}: {{ oa_category }}_performance
            {% else %}
      - operation: add_columns
        columns:
          {{ oa_category }}_performance: ''              
            {% endif %}
      - operation: add_columns
        columns:
          {{ oa_category }}_name: {{ oa_key }}
          {{ oa_category }}_descriptor: {{ oa_value }}
          # We also have to get the final category number before the loop ends
          # This will let us construct the rest of the "oa_category_x" columns, so if "pa_v2" only has 4 objective assessments we append "1,2,3,4" to the empty cat_numbers list above
          # Then the code below will build the rest of the range for the numbers missing (e.g. "5,6,7")
          {% set cat_number = cat_numbers.append(oa_category.split('_')[-1]) %}          
          {% endfor %}     
        {% endfor %}
      {% endfor %}
      
        {% for n in range(1, 8) %}
          {% if n|string not in cat_numbers %}
      - operation: add_columns
        columns:
          oa_category_{{ n }}_name: ''  
          oa_category_{{ n }}_descriptor: '' 
          oa_category_{{ n }}_date: '' 
          oa_category_{{ n }}_score: '' 
          oa_category_{{ n }}_performance: '' 
          {%- endif -%}      
        {%- endfor -%}
      
      {% else %}
      # For any subjects without objective assessments, we will build all the null columns below for ranges 1-7
      - operation: add_columns
        columns:
      {% for n in range(1, 8) %}
          oa_category_{{ n }}_name: ''  
          oa_category_{{ n }}_descriptor: '' 
          oa_category_{{ n }}_date: '' 
          oa_category_{{ n }}_score: '' 
          oa_category_{{ n }}_performance: '' 
        {% endfor %}
      {% endif %}

      # Filter out any data with empty scores and dates (so any rows that don't have a valid subject score taken).
      - operation: filter_rows
        query: subject_score != '' and subject_date != ''
        behavior: include 

      # Finally, we keep the conformed columns we need for the templates.
      - operation: keep_columns
        columns: {{conformed_columns}}

{% endfor %}


# TRANSFORMATION-STEP 3: STACK ALL SUBJECT DATA TOGETHER
# Stack all the data we created in the for loop above together.
  stacked_subject_scores:
    source: $transformations.cli_circle_student_rln_v1
    operations:
      - operation: union
        sources:
# To avoid duplicates, we remove rln_v1 from this join (so we don't join rln_v1 twice - once as a source above and as a joined table below)
{% for subject_name, subject_values in subjects.items() %}
    {% if subject_name != 'rln_v1' %}
          - $transformations.cli_circle_student_{{ subject_name }}
    {% endif %}  
{% endfor %} 

destinations:
  studentAssessments:
    source: $transformations.stacked_subject_scores
    template: assessments/CLI_Circle/templates/studentAssessments.jsont
    extension: jsonl
    linearize: True
    show_progress: True

  objectiveAssessments:
    source: $transformations.stacked_subject_scores
    template: assessments/CLI_Circle/templates/objectiveAssessments.jsont
    extension: jsonl
    linearize: True
    show_progress: True

  assessmentReportingMethodDescriptors:
    source: $sources.assessmentReportingMethodDescriptors
    template: assessments/CLI_Circle/templates/assessmentReportingMethodDescriptors.jsont
    extension: jsonl
    linearize: True
    show_progress: True

  assessments:
    source: $sources.assessments
    template: assessments/CLI_Circle/templates/assessments.jsont
    extension: jsonl
    linearize: True
    show_progress: True